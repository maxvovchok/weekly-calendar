(function(){"use strict";var e={3944:function(e,t,n){var s=n(5130),l=n(6768);const o={class:"controlPanel"};function r(e,t,n,s,r,i){const a=(0,l.g2)("calendar"),c=(0,l.g2)("Button");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(a,{ref:"calendarComponent",days:r.days,times:r.times,schedule:r.schedule,onSaveChanges:i.saveChanges},null,8,["days","times","schedule","onSaveChanges"]),(0,l.Lk)("div",o,[(0,l.bF)(c,{onClick:i.clearChanges},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("Clear")]))),_:1},8,["onClick"]),(0,l.bF)(c,{onClick:i.handleSaveChanges},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("Save Changes")]))),_:1},8,["onClick"])])])}n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var i=n(4232);const a={class:"calendar-table"},c={class:"allDay"},u=["onChange","checked"];function d(e,t,n,s,o,r){const d=(0,l.g2)("day-column");return(0,l.uX)(),(0,l.CE)("div",{class:"calendar-container",onMousedown:t[0]||(t[0]=(...e)=>r.startSelection&&r.startSelection(...e)),onMousemove:t[1]||(t[1]=(...e)=>r.onMouseMove&&r.onMouseMove(...e)),onMouseup:t[2]||(t[2]=(...e)=>r.endSelection&&r.endSelection(...e))},[(0,l.Lk)("table",a,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[t[3]||(t[3]=(0,l.Lk)("th",null,"Day",-1)),t[4]||(t[4]=(0,l.Lk)("th",null,"ALL DAY",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.times,((e,t)=>((0,l.uX)(),(0,l.CE)("th",{key:t,colspan:"3"},(0,i.v_)(e),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.days,((e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:t},[(0,l.Lk)("td",{class:(0,i.C4)({busyDay:r.isDayOccupied(e)})},(0,i.v_)(e),3),(0,l.Lk)("td",c,[(0,l.Lk)("input",{type:"checkbox",onChange:t=>r.selectAllDay(e),checked:r.isAllDaySelected(e)},null,40,u)]),(0,l.bF)(d,{day:e,schedule:n.schedule,"selected-minutes":o.selectedMinutes[e]||new Set,onCellEnter:t=>r.onCellEnter(e,t)},null,8,["day","schedule","selected-minutes","onCellEnter"])])))),128))])])],32)}n(4114);const h=["data-day","data-minute","onMouseenter"];function f(e,t,n,s,o,r){return(0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.getDayTimeSlots(),(t=>((0,l.uX)(),(0,l.CE)("td",{key:t,class:(0,i.C4)(r.getTimeClass(t)),"data-day":n.day,"data-minute":t,onMouseenter:n=>e.$emit("cell-enter",t)},null,42,h)))),128)}var v={props:{day:{type:String,required:!0},schedule:{type:Object,required:!0},selectedMinutes:{type:Set,required:!0}},methods:{getDayTimeSlots(){const e=[];for(let t=0;t<1440;t+=60)e.push(t);return e},getTimeClass(e){const t=this.schedule[this.day]||[],n=t.some((t=>e>=t.bt&&e<t.et));return this.selectedMinutes.has(e)||n?"busy":""}}},y=n(1241);const p=(0,y.A)(v,[["render",f],["__scopeId","data-v-713a1f06"]]);var g=p,m={components:{DayColumn:g},props:{days:{type:Array,required:!0},times:{type:Array,required:!0},schedule:{type:Object,required:!0}},data(){return{isSelecting:!1,selectionMode:null,selectedMinutes:{}}},methods:{isDayOccupied(e){return this.schedule[e]&&this.schedule[e].length>0},startSelection(e){this.isSelecting=!0;const{day:t,minute:n}=e.target.dataset;if(t&&void 0!==n){const e=this.selectedMinutes[t]&&this.selectedMinutes[t].has(Number(n));this.selectionMode=e?"remove":"add",this.toggleSelection(t,Number(n))}},onMouseMove(e){if(this.isSelecting){const{day:t,minute:n}=e.target.dataset;t&&void 0!==n&&this.toggleSelection(t,Number(n))}},endSelection(){this.isSelecting=!1,this.selectionMode=null},toggleSelection(e,t){this.selectedMinutes[e]||(this.selectedMinutes[e]=new Set),"add"===this.selectionMode?this.selectedMinutes[e].add(t):"remove"===this.selectionMode&&this.selectedMinutes[e].delete(t)},onCellEnter(e,t){this.isSelecting&&this.toggleSelection(e,t)},getSelectedIntervals(){const e={};for(const t in this.selectedMinutes)e[t]=Array.from(this.selectedMinutes[t]).map((e=>({bt:e,et:e+60})));return e},clearSelection(){this.selectedMinutes={}},mergeIntervals(e,t){const n=[...e,...t];n.sort(((e,t)=>e.bt-t.bt));const s=[];if(0===n.length)return s;let l=n[0];for(let o=1;o<n.length;o++)l.et>=n[o].bt?l.et=Math.max(l.et,n[o].et):(s.push(l),l=n[o]);return s.push(l),s},selectAllDay(e){const t={bt:0,et:1440};this.isAllDaySelected(e)?this.schedule[e]=this.schedule[e].filter((e=>0!==e.bt||1440!==e.et)):this.schedule[e].push(t)},isAllDaySelected(e){return this.schedule[e]?.some((e=>0===e.bt&&1440===e.et))},saveChanges(){const e={...this.schedule};for(const t in this.selectedMinutes){const n=Array.from(this.selectedMinutes[t]).map((e=>({bt:e,et:e+60})));e[t]=this.mergeIntervals(e[t]||[],n)}this.$emit("save-changes",e)}}};const b=(0,y.A)(m,[["render",d],["__scopeId","data-v-b847b4ca"]]);var C=b;const M={class:"btn"};function S(e,t){return(0,l.uX)(),(0,l.CE)("button",M,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])}const k={},A=(0,y.A)(k,[["render",S],["__scopeId","data-v-3126b650"]]);var E=A,O={components:{Calendar:C,Button:E},data(){return{days:["mo","tu","we","th","fr","sa","su"],times:["00:00","03:00","06:00","09:00","12:00","15:00","18:00","21:00"],schedule:{mo:[],tu:[],we:[],th:[],fr:[],sa:[],su:[]}}},methods:{handleSaveChanges(){this.$refs.calendarComponent.saveChanges()},saveChanges(e){this.schedule=e},clearChanges(){this.$refs.calendarComponent.clearSelection(),this.schedule={mo:[],tu:[],we:[],th:[],fr:[],sa:[],su:[]}}}};const w=(0,y.A)(O,[["render",r]]);var D=w;(0,s.Ef)(D).mount("#app")}},t={};function n(s){var l=t[s];if(void 0!==l)return l.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,l,o){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],l=e[u][1],o=e[u][2];for(var i=!0,a=0;a<s.length;a++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[a])}))?s.splice(a--,1):(i=!1,o<r&&(r=o));if(i){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[s,l,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,o,r=s[0],i=s[1],a=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(a)var u=a(n)}for(t&&t(s);c<r.length;c++)o=r[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},s=self["webpackChunktest_task"]=self["webpackChunktest_task"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[504],(function(){return n(3944)}));s=n.O(s)})();
//# sourceMappingURL=app.0062786f.js.map